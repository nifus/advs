<div ng-controller="searchController">
    <div class="col-md-12" ng-if="!env.adv && !env.account">
        <div class="panel panel-default">
            <div class="panel-heading" translate>Invoices</div>
            <div class="panel-body">
                <form class="form-horizontal">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>Invoice ID</label>
                                <div class="col-sm-9">
                                    <input type="number" ng-model="filter.id" class="form-control" >
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>Account ID</label>
                                <div class="col-sm-9">
                                    <input type="number" ng-model="filter.user_id" class="form-control" >
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>Company name</label>
                                <div class="col-sm-9">
                                    <input type="text" ng-model="filter.company" class="form-control">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>Register ID</label>
                                <div class="col-sm-9">
                                    <input type="text" ng-model="filter.commercial_id" class="form-control">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>Email address</label>
                                <div class="col-sm-9">
                                    <input type="email" ng-model="filter.email" class="form-control">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>Zip</label>
                                <div class="col-sm-9">
                                    <input type="text" ng-model="filter.address_zip" class="form-control">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>City</label>
                                <div class="col-sm-9">
                                    <input type="text" ng-model="filter.address_city" class="form-control">
                                </div>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate
                                       style="    text-align: left;">Country</label>
                                <div class="col-sm-9">
                                    <select class="form-control" ng-model="filter.commercial_country"
                                            ng-options="country as country for country in env.countries">
                                        <option value="" translate>Select country</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-12">
                                    <label class="control-label" translate>Account Type</label>
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" checklist-model="filter.group_id"
                                                   checklist-value="2">{{'Private'|translate}}
                                        </label>
                                    </div>

                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" checklist-model="filter.group_id"
                                                   checklist-value="3">{{'Business'|translate}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <div class="col-sm-9">
                                    <label class="control-label" translate>Account status</label>


                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" checklist-model="filter.status"
                                                   checklist-value="'active'">{{'Active'|translate}}
                                        </label>
                                    </div>

                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" checklist-model="filter.status"
                                                   checklist-value="'email_confirmation'">{{'Email
                                            confirmation'|translate}}
                                        </label>
                                    </div>

                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" checklist-model="filter.status"
                                                   checklist-value="'wait_approve'">{{'Wait for approve'|translate}}
                                        </label>
                                    </div>

                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" checklist-model="filter.status"
                                                   checklist-value="'blocked'">{{'Blocked'|translate}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">

                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>Date from</label>
                                <div class="col-sm-9">
                                    <input type="text" ng-model="filter.surname" class="form-control">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label" translate>Date to</label>
                                <div class="col-sm-9">
                                    <input type="text" ng-model="filter.surname" class="form-control">
                                </div>
                            </div>



                        </div>
                    </div>
                    <div class="row text-right">
                        <div class="col-md-12">
                            <div class="btn-group" role="group" aria-label="...">
                                <button type="button" class="btn btn-primary" ng-click="searchSubmit()" translate>Search</button>
                                <button type="button" class="btn btn-primary" ng-click="reset()" translate>Reset filter</button>
                            </div>
                        </div>
                    </div>
                </form>

                <hr>
                <div class="row text-right" style="margin-bottom:10px">
                    <div class="col-md-12">

                        <div class="btn-group " role="group" aria-label="...">
                            <button type="button" class="btn btn-default"  disabled translate>Results per page</button>
                            <button type="button" class="btn" ng-class="{'btn-primary': search.per_page==10,'btn-default': search.per_page!=10}" ng-click="setPerPage(10)">10</button>
                            <button type="button" class="btn" ng-class="{'btn-primary': search.per_page==20,'btn-default': search.per_page!=20}" ng-click="setPerPage(20)">20</button>
                            <button type="button" class="btn" ng-class="{'btn-primary': search.per_page==40,'btn-default': search.per_page!=40}" ng-click="setPerPage(40)">40</button>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="progress" ng-if="env.loading==true">
                    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45"
                         aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                        <span class="sr-only"></span>
                    </div>
                </div>
                <table class="table" ng-if="env.loading==false">
                    <tr>
                        <th></th>
                        <th translate>Invoice ID</th>
                        <th translate>Account ID</th>
                        <th translate>Generated on</th>
                        <th translate>Auto send on</th>
                        <th translate>Auto send status</th>
                        <th translate>Download</th>
                    </tr>
                    <tr ng-repeat="row in search.found">
                        <td><input type="checkbox" checklist-model="selected" checklist-value="row"></td>
                        <td><a ng-click="setAdv(adv)" class="link">{{row.id}}</a></td>
                        <td>{{row.type}}</td>
                        <td><a ng-click="setAccount(adv.owner)" class="link">{{adv.user_id}}</a></td>
                        <td>{{adv.owner.group_id==2 ? 'Private' : (adv.owner.group_id==3 ? 'Business' : '')}}</td>
                        <td>{{adv.StatusStr}}</td>
                        <td>{{adv.CreateDateWithTime}}</td>
                        <td>{{adv.DisableDateWithTime}}</td>
                    </tr>
                </table>
                <hr>
                <div class="row">
                    <div class="col-md-3 text-left">

                    </div>

                    <div class="col-md-6" style="text-align: center">
                        <nav aria-label="Page navigation" ng-if="search.pages>1">
                            <ul class="pagination">
                                <li ng-repeat="n in range(1,search.pages)"
                                    ng-class="{'active':search.page==n}">
                                    <a class="link" ng-click="setPage(n)">{{n}}</a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <div class="col-md-3  text-right form-inline">

                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
