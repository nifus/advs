<div class="progress" ng-show="env.loading===true">
    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0"
         aria-valuemax="100" style="width: 100%">
    </div>
</div>

<div ng-show="env.loading===false">
    <div>
        <ol class="breadcrumb">
            <li><a href="/">Home</a></li>
            <li><a ng-href="/{{env.search.query.type}}?id={{env.search.id}}">Search form</a></li>
            <li class="active">{{env.search.number_of_results}} results</li>
        </ol>
    </div>

    <div class="row">
        <div class="col-md-2">
            {{env.search.number_of_results}} advs found
            <hr>

            <div
                    ng-include="'/apps/frontApp/adv/searchResult/listing/inc_menu/flat.html'"
                    ng-if="env.search.query.category==1"></div>
            <div
                    ng-include="'/apps/frontApp/adv/searchResult/listing/inc_menu/house.html'"
                    ng-if="env.search.query.category==2"></div>
            <div
                    ng-include="'/apps/frontApp/adv/searchResult/listing/inc_menu/garage.html'"
                    ng-if="env.search.query.category==3"></div>

            <div
                    ng-include="'/apps/frontApp/adv/searchResult/listing/inc_menu/office.html'"
                    ng-if="env.search.query.category==4"></div>

            <div
                    ng-include="'/apps/frontApp/adv/searchResult/listing/inc_menu/hotel.html'"
                    ng-if="env.search.query.category==6"></div>

            <div
                    ng-include="'/apps/frontApp/adv/searchResult/listing/inc_menu/hall.html'"
                    ng-if="env.search.query.category==7"></div>

            <div
                    ng-include="'/apps/frontApp/adv/searchResult/listing/inc_menu/retail.html'"
                    ng-if="env.search.query.category==8"></div>

            <div
                    ng-include="'/apps/frontApp/adv/searchResult/listing/inc_menu/commercial.html'"
                    ng-if="env.search.query.category==9"></div>


            <div style="text-align: right">
                <button type="button" class="btn btn-primary"
                        ng-disabled="env.submit===true"
                        ng-click="newSearch()">Search</button>
            </div>
            <hr>

            <div style="text-align: center">
                <button type="button"
                        ng-click="backToSearchForm()"
                        class="btn btn-warning"><span class="glyphicon glyphicon-backward" aria-hidden="true"></span>
                    Back to searching details
                </button>
            </div>


        </div>
        <div class="col-md-10">
            <nav class="navbar navbar-default">
                <div class="container-fluid">


                    <div class="col-md-5 navbar-right navbar-form" disable-all="env.display_map===true">
                        <div class="input-group">
                            <span class="input-group-addon" id="basic-addon1">Sort by</span>
                            <select class="form-control" ng-model="env.sortby" ng-change="changeSort(env.sortby, true)">
                                <option value="date_create">Date Created</option>
                                <option value="price_up">Price Up</option>
                                <option value="price_down">Price Down</option>
                            </select>
                        </div>
                    </div>


                    <div class="col-md-5 navbar-right navbar-form ">
                        <div class="btn-toolbar" role="toolbar">
                            <div class="btn-group input-group" role="group" disable-all="env.display_map===true">
                                <span class="input-group-addon">Per page</span>
                                <button type="button" class="btn btn-default" ng-class="{'btn-primary':env.per_page==5}"
                                        ng-click="changePerPage(5, undefined, true)">5
                                </button>
                                <button type="button" class="btn btn-default"
                                        ng-class="{'btn-primary':env.per_page==10}"
                                        ng-click="changePerPage(10, undefined, true)">10
                                </button>
                                <button type="button" class="btn btn-default"
                                        ng-class="{'btn-primary':env.per_page==20}"
                                        ng-click="changePerPage(20, undefined, true)">20
                                </button>
                                <button type="button" class="btn btn-default"
                                        ng-class="{'btn-primary':env.per_page==50}"
                                        ng-click="changePerPage(50, undefined, true)">50
                                </button>
                            </div>

                        </div>
                    </div>

                    <div class="col-md-5 navbar-right navbar-form ">

                        <button type="submit" class="btn btn-success"
                                ng-class="{'active': env.display_map===true}"
                                ng-click="displayMap(!env.display_map, true)"
                        >
                            <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
                            {{env.display_map===false ? 'Display Map' : 'Hide Map'}}
                        </button>
                    </div>
                </div>
            </nav>


            <div class="row" id="listing" ng-if="env.display_map===false">
                <div
                        ng-include="'/apps/frontApp/adv/searchResult/listing/inc/flat.html'"
                        ng-if="env.search.query.category==1"></div>

                <div
                        ng-include="'/apps/frontApp/adv/searchResult/listing/inc/house.html'"
                        ng-if="env.search.query.category==2"></div>
                <div
                        ng-include="'/apps/frontApp/adv/searchResult/listing/inc/garage.html'"
                        ng-if="env.search.query.category==3"></div>
            </div>


            <div class="row" ng-show="env.display_map===true">
                <div id="map" style="height: 500px"></div>
            </div>

            <nav class="navbar navbar-default" ng-if="env.display_map===false">
                <div class="container-fluid">
                    <div class="col-md-5 navbar-left navbar-form">
                        <nav ng-show="env.pages!=null">
                            <ul class="pagination " style="margin:0px">
                                <li ng-repeat="n in range(1,env.pages)"
                                    ng-class="{'active':env.page==n,'disabled':env.display_map===true}">
                                    <a class="link" ng-click="setPage(n)">{{n}}</a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                </div>
            </nav>
        </div>
    </div>
</div>